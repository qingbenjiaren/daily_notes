一、zookeeper有三个端口（可以修改）

1、2181

2、3888

3、2888

二、3个端口的作用

1、2181：对cline端提供服务

2、3888：选举leader使用

3、2888：集群内机器通讯使用（Leader监听此端口）

 

三、部署时注意

1、单机单实例，只要端口不被占用即可

2、单机伪集群（单机，部署多个实例），三个端口必须修改为组组不一样

如：myid1 : 2181,3888,2888

myid2 : 2182,3788,2788

myid3 : 2183,3688,2688

3、集群（一台机器部署一个实例）

 

四、集群为大于等于3个基数，如 3、5、7....,不宜太多，集群机器多了选举和数据同步耗时时长长，不稳定。目前觉得，三台选举+N台observe很不错。